<!DOCTYPE HTML>
<!--
    Helios by HTML5 UP
    html5up.net | @ajlkn
    Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<title> getBoard </title>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
	<link rel="stylesheet" href="/css/getBoard.css" />
	<link rel="stylesheet" href="/css/base.css" />
	<script src="/js/Board/getBoard.js"></script>
	<noscript>
		<link rel="stylesheet" href="assets/css/noscript.css" />
	</noscript>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


</head>
<style>
	.field-error {
		border-color: #dc3545;
		color: #dc3545;
	}
</style>

<body>

	<header th:replace="~{base/base :: header}"></header>

	<!--SubTitle-->

	<section class="SubTitle">BOARD_DETAILED</section>

	<div style="height: 20px;"></div><!--공간 띄우기 위한 박스-->

	<!-- Main -->
	<main>

		<!--main 안에 있는 큰 박스-->
		<div class="flex-container_column">
			<table>
				<tr>
					<td>작성자</td>
					<td><input type="text" name="boardWriter" th:value="${ board.boardWriter }" disabled></td>
					<td>조회수</td>
					<td><input type="text" name="boardCnt" th:value="${ board.boardCnt }" disabled></td>
				</tr>

				<tr>
					<td>제목</td>
					<td><input type="text" name="boardTitle" th:value="${ board.boardTitle }" disabled></td>
					<td>등록일</td>
					<td><input type="text" name="boardDate"
							th:placeholder="${#dates.format(board.boardDate, 'yyyy-MM-dd hh:mm')}" disabled></td>
				</tr>
				<tr>
					<td>첨부파일</td>
					<td th:if="${ board.boardFilename != null }" colspan="3" style="padding: 20px;">
						<a th:href="@{/board/download(boardId=${board.boardId}, fn=${ board.boardFilename })}"
							th:text="${ board.boardFilename }"></a>
						<a th:href="@{ /board/download(boardId=${board.boardId }, fn=${ board.boardFilename })}">
							<img style="height: 20px; background-color: white; margin-right:7px;"
								th:src="@{ /img/download_icon.png }" alt="다운로드이미지">
						</a>
					</td>
				</tr>
				<tr>
					<td colspan="4" style="padding: 1.5% 0%;">내용</td>
				</tr>
				<tr>
					<td colspan="4" style="padding: 20px;">
						<textarea th:text="${board.boardContent}" name="boardContent" rows="15" disabled />
					</td>
				</tr>
			</table>

			<div style="height: 20px;"></div><!--공간 띄우기 위한 박스-->


			<div class="flex-container_row">


				<div style="width: 90%;"></div>
				<div style="width: 10%;">
					<a th:href="@{/board/updateBoard(boardId=${board.boardId})}" style="padding:1% 2%;">수정하기</a>
					<a th:href="@{/board/getBoardList}" style="padding:1% 2%;">목록</a>
				</div>


			</div>

		</div>

	</main>
	<div class="comment-section">
		<h2>Comments</h2>
		<table id="commentsTable" style="word-wrap: break-word;table-layout: fixed;">
			<thead>
				<tr>
					<th>NICNAME</th>
					<th>Comment</th>
					<th>Timestamp</th>
					<th>delete</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="comment : ${comments}">
					<td th:text="${comment.userNickname}" style="width:10%">닉네임</td>
					<td th:text="${comment.content}" style="width:50%">내용</td>
					<td th:text="${comment.commentDate}" style="width:20%">등록일</td>
					<td th:if="${session.user.memberId == comment.userId}">
						<input id="delete_commentId" type="hidden" th:value="${comment.commentId}" />
						<input id="delete_boardId" type="hidden" th:value="${board.boardId}" />
						<button onclick="deleteComment()" style="width: 20%;">삭제하기</button>
					</td>
				</tr>

			</tbody>
		</table>

		<div class="comment-form" th:object="${CommentWriteValidation}">
			<h3>Leave a Comment</h3>
			<div class="field-error" id="contentErrors" style="font-size: 15px;">

			</div>
			<input type="hidden" id="hidden_boardId" th:value="${board.boardId}">
			<input type="hidden" id="hidden_userId" th:value="${session.user.memberId}">
			<input type="hidden" id="hidden_userNickname" th:value="${session.user.memberNickname}">
			<textarea id="commentContent" placeholder="Write your comment here..."></textarea>
			<button onclick="addComment()">Submit</button>
		</div>
	</div>
	<!-- Footer -->
	<div id="footer">
	</div>
	</div>


	<!-- Footer -->
	<hr style="">
	<footer style="opacity: 50%;">
		<!-- Contact -->
		<h1>@ carini</h1>
	</footer>

	<!-- Scripts -->
	<script src="/js/jquery.min.js"></script>
	<script src="/js/jquery.dropotron.min.js"></script>
	<script src="/js/jquery.scrolly.min.js"></script>
	<script src="/js/jquery.scrollex.min.js"></script>
	<script src="/js/browser.min.js"></script>
	<script src="/js/breakpoints.min.js"></script>
	<script src="/js/util.js"></script>
	<script src="/js/main.js"></script>

</body>

</html>